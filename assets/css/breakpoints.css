@media screen and (max-width: 800px) {
    .title-block {
        margin-bottom: var(--title-block-margin-bottom-mobile);
    }

}

@media screen and (max-width: 500px) {
    .arrow {
        max-height: var(--arrow-max-height-sm);
    }
}

@media screen and (min-width: 600px) {
    h2 {
        font-size: 1.7em;
    }

    p {
        font-size: 1.2em;
    }
}

@media screen and (min-width: 1024px) {

    body,
    .title-block {
        width: 65vw;
    }

    h2 {
        font-size: var(--h2-sizing-xlg)
    }

    p {
        font-size: var(--paragraph-size-xlg)
    }
}

@media screen and (min-width: 1440px) {

    body,
    .title-block {
        width: var(--content-width-desktop);
    }
}

/* Portfolio carousel is now always-carousel controlled by JS */
/* ==============================================
   MOBILE BREAKPOINT
   Only for truly narrow/short screens
   ============================================== */
@media screen and (max-height: 700px),
(max-width: 500px) {

    /* Global lighter text on mobile */
    body {
        font-weight: 300;
    }

    p {
        font-weight: 300;
    }

    .title-block {
        margin-bottom: var(--margin-sm);
    }

    .title-block>* {
        margin-bottom: var(--margin-sm);
    }

    .arrow {
        max-height: var(--arrow-max-height-sm);
    }

    .resume-container {
        gap: var(--gap-sm);
        padding: 0 var(--padding-md);
    }

    .resume-intro p {
        font-size: 0.85rem;
        line-height: 1.4;
        font-weight: 300;
    }

    .resume-grid {
        gap: var(--gap-sm);
    }

    .resume-block {
        padding: var(--padding-sm);
    }

    .resume-block h3 {
        font-size: 0.7rem;
        margin-bottom: var(--margin-xs);
    }

    /* Resume blocks: stack chips vertically on mobile */
    .resume-block .skill-pills {
        gap: 0.25rem;
        flex-wrap: wrap;
        flex-direction: row;
        /* Cluster/wrap horizontally */
        justify-content: center;
        /* Center clustered items */
        align-items: center;
    }

    .resume-block .skill-pills span {
        font-size: 0.6rem;
        padding: 0.2rem 0.4rem;
    }

    /* Project cards: keep chips wrapping normally */
    .project-card .skill-pills {
        flex-wrap: wrap;
        justify-content: flex-start;
    }

    .project-card .skill-pills span {
        font-size: 0.6rem;
        padding: 0.2rem 0.4rem;
    }

    .resume-highlights {
        gap: var(--gap-lg);
        margin-top: var(--margin-xs);
    }

    .highlight-number {
        font-size: 1.25rem;
    }

    .highlight-label {
        font-size: 0.6rem;
    }

    /* Allow headings to wrap - scoped to main content to avoid modal regression */
    .title-block h2,
    .title-block h3,
    .resume-block h3,
    .project-details h3 {
        white-space: normal;
        overflow: visible;
        text-overflow: clip;
        max-width: 100%;
        line-height: 1.2;
        /* Ensure long emails wrap */
        word-break: break-all;
        overflow-wrap: break-word;
    }

    /* Smaller cards on true mobile */
    .project-card {
        width: 82vw;
        max-width: 360px;
    }

    .project-card img {
        aspect-ratio: 16/10;
    }

    .project-details {
        padding: var(--padding-sm) var(--padding-md);
    }

    .project-details h3 {
        font-size: 0.85rem;
        white-space: nowrap;
        overflow: hidden;
        text-overflow: ellipsis;
    }

    .project-details p {
        font-size: 0.7rem;
        font-weight: 300;
        margin-bottom: var(--margin-sm);
        line-height: 1.4;
    }

    .nav-arrow {
        max-height: 4vh;
    }

    .portfolio-carousel-wrapper {
        gap: 0;
    }

    .portfolio-nav {
        padding: 0;
        flex: 1;
        /* Grow to fill available space */
        justify-content: center;
    }

    .portfolio-grid {
        padding: var(--padding-sm) var(--padding-xs);
    }
}

/* Extra skinny screens - prioritize width for content */
@media screen and (max-width: 380px) {
    .nav-arrow {
        max-height: 2.5vh;
        opacity: 0.6;
    }

    .portfolio-grid {
        gap: var(--gap-sm);
        padding: var(--padding-sm) var(--padding-xs);
    }
}

/* Extra short screens - scale down cards to fit */
@media screen and (max-height: 650px) {
    .project-card {
        width: 220px;
        max-width: 220px;
    }

    .project-details {
        padding: var(--padding-xs) var(--padding-sm);
    }

    .project-details h3 {
        font-size: 0.8rem;
        margin-bottom: 2px;
    }

    .project-details p {
        font-size: 0.65rem;
        margin-bottom: var(--margin-xs);
        line-height: 1.2;
    }

    .project-card .skill-pills span {
        font-size: 0.55rem;
        padding: 0.1rem 0.3rem;
    }
}